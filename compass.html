<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Gauge Test</title>
    <script src="//cdn.rawgit.com/Mikhus/canvas-gauges/gh-pages/download/2.1.5/all/gauge.min.js"></script>
  </head>
  <body>
    <button onclick="animateGauges()">Animate</button>
    <button onclick="stopGaugesAnimation()">Stop animation</button>
    <input type="text" id="gauge-size" value="400" />
    <button onclick="resize()">Resize</button>
    <!-- <input type="text" id="gauge-text" value="ERROR" />
    <button onclick="setText()">Set value text</button> -->
    <button onclick="document.location.reload()">Reset</button>

    <hr />

    <canvas
      data-type="radial-gauge"
      data-width="400"
      data-height="400"
      data-min-value="0"
      data-max-value="360"
      data-major-ticks="N,NE,E,SE,S,SW,W,NW,N"
      data-minor-ticks="11"
      data-ticks-angle="360"
      data-start-angle="180"
      data-stroke-ticks="false"
      data-highlights="false"
      data-color-plate="#3a3"
      data-color-major-ticks="#f5f5f5"
      data-color-minor-ticks="#ddd"
      data-color-numbers="#ccc"
      data-color-needle="rgba(240, 128, 128, 1)"
      data-color-needle-end="rgba(255, 160, 122, .9)"
      data-value-box="false"
      data-value-text-shadow="false"
      data-color-circle-inner="#fff"
      data-color-needle-circle-outer="#ccc"
      data-needle-circle-size="15"
      data-needle-circle-outer="false"
      data-animation-rule="linear"
      data-needle-type="line"
      data-needle-start="75"
      data-needle-end="99"
      data-needle-width="3"
      data-borders="true"
      data-border-inner-width="0"
      data-border-middle-width="0"
      data-border-outer-width="10"
      data-color-border-outer="#ccc"
      data-color-border-outer-end="#ccc"
      data-color-needle-shadow-down="#222"
      data-border-shadow-width="0"
      data-animation-duration="1500"
      data-value-box="true"
      data-value-text-shadow="true"
      data-value-int="3"
      data-value-dec="0"
    ></canvas>

    <canvas
      data-type="radial-gauge"
      data-width="400"
      data-height="400"
      data-min-value="0"
      data-max-value="360"
      data-major-ticks="N,NE,E,SE,S,SW,W,NW,N"
      data-minor-ticks="11"
      data-ticks-angle="360"
      data-start-angle="180"
      data-stroke-ticks="false"
      data-highlights="false"
      data-color-plate="blue"
      data-color-major-ticks="#f5f5f5"
      data-color-minor-ticks="#ddd"
      data-color-numbers="#ccc"
      data-color-needle="rgba(240, 128, 128, 1)"
      data-color-needle-end="rgba(255, 160, 122, .9)"
      data-color-circle-inner="#fff"
      data-value-box="true"
      data-value-text-shadow="true"
      data-value-int="3"
      data-value-dec="0"
      data-color-circle-inner="#fff"
      data-color-needle-circle-outer="#ccc"
      data-needle-circle-size="15"
      data-needle-circle-outer="false"
      data-animation-rule="linear"
      data-needle-type="arrow"
      data-borders="true"
      data-border-inner-width="0"
      data-border-middle-width="0"
      data-border-outer-width="10"
      data-color-border-outer="#ccc"
      data-color-border-outer-end="#ccc"
      data-color-needle-shadow-down="#222"
      data-border-shadow-width="0"
      data-animation-duration="1500"
    >
    </canvas>

    <canvas
      data-type="radial-gauge"
      data-width="400"
      data-height="400"
      data-min-value="0"
      data-max-value="360"
      data-major-ticks="N,NE,E,SE,S,SW,W,NW,N"
      data-minor-ticks="22"
      data-ticks-angle="360"
      data-start-angle="180"
      data-stroke-ticks="false"
      data-highlights="false"
      data-color-plate="red"
      data-color-major-ticks="#f5f5f5"
      data-color-minor-ticks="#ddd"
      data-color-numbers="#ccc"
      data-color-needle="rgba(240, 128, 128, 1)"
      data-color-needle-end="rgba(255, 160, 122, .9)"
      data-color-circle-inner="#fff"
      data-value-box="true"
      data-value-text-shadow="true"
      data-value-int="3"
      data-value-dec="0"
      data-color-circle-inner="#fff"
      data-color-needle-circle-outer="#ccc"
      data-needle-circle-size="15"
      data-needle-circle-outer="false"
      data-animation-rule="linear"
      data-needle-type="line"
      data-borders="true"
      data-border-inner-width="0"
      data-border-middle-width="0"
      data-border-outer-width="10"
      data-color-border-outer="#ccc"
      data-color-border-outer-end="#ccc"
      data-color-needle-shadow-down="#222"
      data-border-shadow-width="0"
      data-animation-duration="1500"
    >
    </canvas>

    <script>
      function animateGauges() {
        document.gauges.forEach(function(gauge) {
          //gauge.value = 45;
          gauge.value = Math.floor(Math.random() * 360);
          console.log(gauge.value);
        });
      }

      function stopGaugesAnimation() {
        timers.forEach(function(timer) {
          clearInterval(timer);
        });
      }

      function resize() {
        var size =
          parseFloat(document.getElementById("gauge-size").value) || 400;

        document.gauges.forEach(function(gauge) {
          gauge.update({ width: size, height: size });
        });
      }

      function setText() {
        var text = document.getElementById("gauge-text").value;

        document.gauges.forEach(function(gauge) {
          gauge.update({ valueText: text });
        });
      }
    </script>
  </body>
</html>
